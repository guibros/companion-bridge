# ─── Companion Bridge v3 Configuration ────────────────────────────────────────

# Where The Vibe Companion is running
COMPANION_URL=http://localhost:3457

# Port this adapter listens on
ADAPTER_PORT=8787

# Working directory for Claude Code sessions
# This is where Claude Code will read/write files
SESSION_CWD=/path/to/your/project

# Permission mode sent to Companion (default | bypassPermissions)
PERMISSION_MODE=default

# Model name reported to OpenAI-compatible clients
MODEL_NAME=claude-code-companion

# Tool mode:
#   "auto"        → auto-approve all tools via policy engine (default)
#   "passthrough"  → return tool calls to client for approval
TOOL_MODE=auto

# Custom tool policy (JSON array, optional — overrides defaults)
# TOOL_POLICY='[{"tool":"Bash","action":"passthrough"},{"tool":"*","action":"allow"}]'

# Response timeout: max time (ms) to wait for Claude Code to respond
RESPONSE_TIMEOUT_MS=600000

# Session idle timeout: how long (ms) before evicting unused sessions
SESSION_IDLE_TIMEOUT_MS=900000

# Max concurrent sessions in the pool
MAX_SESSIONS=10

# Log format: "pretty" for terminal, "json" for log aggregators
LOG_FORMAT=pretty
